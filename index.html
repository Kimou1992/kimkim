<form id="dataForm">
  <input type="text" id="product" name="product" placeholder="Product" required>
  <input type="number" id="price" name="price" placeholder="Price" required>
  <input type="number" id="quantity" name="quantity" placeholder="Quantity" required>
  <input type="hidden" id="telegram_id" name="telegram_id" value="7119877516">
  <button type="submit">Submit</button>
</form>

<script>
  const form = document.getElementById('dataForm');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    // استخراج البيانات من النموذج
    const formData = new FormData(form);
    const data = {
      telegram_id: formData.get("telegram_id"),
      product: formData.get("product"),
      price: formData.get("price"),
      quantity: formData.get("quantity")
    };

    // إرسال البيانات إلى doPost
    try {
      const response = await fetch("https://script.google.com/macros/s/AKfycbylJOZaVX4p0dDSMeeXTccXWdys8lVyA92QM_FPI_gk/dev", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      const result = await response.text();
      alert("Response: " + result);
    } catch (error) {
      alert("Error sending data: " + error.message);
    }
  });
</script>
